components:
  schemas:
    Measurement:
      type: object
      properties:
        id:
          type: string
          format: uuid
        plantId:
          type: string
          format: uuid
        controllerId:
          type: string
        timestamp:
          type: string
          format: date-time
        temperature:
          type: number
          format: float
        humidity:
          type: number
          format: float
        luminosity:
          type: number
          format: float

    MeasurementCreateRequest:
      type: object
      required:
        - controllerId
        - timestamp
      properties:
        controllerId:
          type: string
        timestamp:
          type: string
          format: date-time
        temperature:
          type: number
          format: float
        humidity:
          type: number
          format: float
        luminosity:
          type: number
          format: float

    WateringEvent:
      type: object
      properties:
        id:
          type: string
          format: uuid
        plantId:
          type: string
          format: uuid
        controllerId:
          type: string
        timestamp:
          type: string
          format: date-time
        duration:
          type: integer
          description: Duration in seconds
        quantity:
          type: number
          description: Water quantity in milliliters
        type:
          type: string
          enum: [automatic, manual]
        triggeredBy:
          type: string
          description: User ID if manual, or 'system' if automatic
        success:
          type: boolean
        errorMessage:
          type: string

    WateringTriggerRequest:
      type: object
      properties:
        manual:
          type: boolean
          description: Whether this is a manual trigger
          default: true
        quantity:
          type: number
          description: Water quantity in ml (uses plant config if not specified)

    WateringTriggerResponse:
      type: object
      properties:
        status:
          type: string
          example: "triggered"
        wateringId:
          type: string
          format: uuid
        timestamp:
          type: string
          format: date-time
